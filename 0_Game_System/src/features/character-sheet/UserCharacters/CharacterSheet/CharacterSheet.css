/*
    Created on : 04/11/2023
    Author     : Steven
*/

:root{
    /* ===== STEP 2: CONSOLIDATED DESIGN TOKENS ===== */
    
    /* Theme Colors - Primary Palette */
    --bg-form-neutral: #C1C3C7;
    --bg-form-orden: #0E79B2;
    --bg-form-caos: #E4572E;
    --bg-color-1: #E5E7EB;
    --bg-color-2: #191716;
    --bg-color-3: #F2AF29;
    --bg-color-4: #E63462;
    --bg-color-5: #9E2A2B;
    --bg-color-6: #DD8E2A;
    --bg-color-7: #31E981;
    --bg-color-8: #388697;
    --bg-color-9: #7F5A83;
    
    /* Semantic Color Mappings */
    --primary: var(--bg-color-3);
    --primary-rgb: 242, 175, 41;
    --danger: var(--bg-color-4);
    --danger-rgb: 230, 52, 98;
    --success: var(--bg-color-7);
    --success-rgb: 49, 233, 129;
    --required-color: var(--bg-color-4);
    --bg-color-btn-dice: var(--bg-color-3);
    --bg-title: var(--bg-color-3);
    --bg-loader: var(--bg-color-3);

    /* Typography System */
    --font-size-xs: 0.75rem;    /* 12px */
    --font-size-sm: 0.875rem;   /* 14px */
    --font-size-base: 1rem;     /* 16px */
    --font-size-lg: 1.125rem;   /* 18px */
    --font-size-xl: 1.25rem;    /* 20px */
    --font-size-2xl: 1.5rem;    /* 24px */
    --font-size-3xl: 1.875rem;  /* 30px */
    
    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;
    
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-black: 900;
    
    /* Spacing System */
    --spacing-xs: 0.25rem;    /* 4px */
    --spacing-sm: 0.5rem;     /* 8px */
    --spacing-md: 0.75rem;    /* 12px */
    --spacing-lg: 1rem;       /* 16px */
    --spacing-xl: 1.25rem;    /* 20px */
    --spacing-2xl: 1.5rem;    /* 24px */
    --spacing-3xl: 2rem;      /* 32px */
    --spacing-4xl: 2.5rem;    /* 40px */
    
    /* Grid System */
    --grid-gap-tight: 0.5rem;
    --grid-gap-normal: 0.75rem;
    --grid-gap-relaxed: 1rem;
    --grid-gap-loose: 1.25rem;
    
    /* Form Element Sizing */
    --form-height-sm: 2.5rem;
    --form-height-md: 3rem;
    --form-height-lg: 3.5rem;
    
    /* Border Radius System (consolidated - removed duplicates) */
    --border-radius-sm: 0.375rem;
    --border-radius-md: 0.5rem;
    --border-radius-lg: 0.75rem;
    --border-radius-xl: 1rem;
    --border-card: 0.5rem; /* Legacy support */
    
    /* Border Colors */
    --border-light: #e5e7eb;
    --border-medium: #d1d5db;
    --border-dark: #9ca3af;
    
    /* Text Colors (consolidated - removed duplicates) */
    --text-primary: #1f2937;
    --text-secondary: #374151;
    --text-muted: #6b7280;
    
    /* Background Colors */
    --bg-grey-lighter: #f9fafb;
    --bg-main: #f8fafc;
    
    /* Shadow System */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    
    /* Focus Ring System */
    --focus-ring: 0 0 0 3px rgba(242, 175, 41, 0.1);
    --focus-ring-orden: 0 0 0 3px rgba(14, 121, 178, 0.1);
    --focus-ring-caos: 0 0 0 3px rgba(228, 87, 46, 0.1);
    
    /* Transition System (consolidated) */
    --transition-fast: all 0.15s ease;
    --transition-normal: all 0.2s ease;
    --transition-standard: 0.2s; /* Alias for compatibility */
    --transition-slow: all 0.3s ease;
    
    /* Legacy Support */
    --un-border-opacity: 1;
}

body{
    scrollbar-color: var(--bg-color-3) var(--bg-color-1) ;
    scrollbar-width: thin;
}

/* Focus state utilities */
.focus-ring {
    &:focus {
        border-color: var(--bg-color-3);
        box-shadow: var(--current-focus-ring);
        outline: none;
    }
}

.focus-ring-orden {
    &:focus {
        border-color: var(--bg-form-orden);
        box-shadow: var(--focus-ring-orden);
        outline: none;
    }
}

.focus-ring-caos {
    &:focus {
        border-color: var(--bg-form-caos);
        box-shadow: var(--focus-ring-caos);
        outline: none;
    }
}

/* =====================================================
   STEP 3: ENHANCED GRID SYSTEM - FORM SHEET LAYOUT
   ===================================================== */

.form-sheet {
    display: grid;
    min-height: 100vh;
    width: 100%;
    max-width: 100vw;
    margin: 0 auto;
    position: relative;
    overflow-x: hidden;
    
    /* ===== MOBILE-FIRST GRID LAYOUT ===== */
    /* Mobile (≤767px): Single column stack */
    grid-template-columns: 1fr;
    grid-template-rows: repeat(6, auto);
    grid-template-areas:
        "title"
        "info"
        "stats"
        "armament"
        "skills"
        "inventory";
    padding: var(--spacing-md);
    gap: var(--spacing-lg);
    
    /* ===== RESPONSIVE BREAKPOINTS ===== */
    
    /* Tablet (768px - 1023px): Two column layout */
    @media (min-width: 768px) {
        grid-template-columns: repeat(8, 1fr);
        grid-template-rows: auto auto auto auto;
        grid-template-areas:
            "title title title title title title title title"
            "info info info info info info info info"
            "stats stats stats stats armament armament armament armament"
            "skills skills skills skills inventory inventory inventory inventory";
        padding: var(--spacing-lg);
        gap: var(--spacing-xl);
        max-width: 1200px;
    }
    
    /* Desktop (1024px - 1599px): Optimized three column layout */
    @media (min-width: 1024px) {
        grid-template-columns: repeat(12, 1fr);
        grid-template-rows: auto auto auto auto;
        grid-template-areas:
            "title title title title title title title title title title title title"
            "info info info info info info info info info info info info"
            "stats stats stats stats armament armament armament armament inventory inventory inventory inventory"
            "skills skills skills skills skills skills skills skills inventory inventory inventory inventory";
        max-width: 1400px;
    }
    
    /* Large Desktop (≥1600px): Full wide layout */
    @media (min-width: 1600px) {
        grid-template-columns: repeat(16, 1fr);
        grid-template-rows: auto auto auto auto;
        grid-template-areas:
            "title title title title title title title title title title title title title title title title"
            "info info info info info info info info info info info info info info info info"
            "stats stats stats stats stats armament armament armament armament skills skills skills skills inventory inventory inventory"
            ". . . . . armament armament armament armament skills skills skills skills inventory inventory inventory";
        max-width: 1800px;
    }
    
    /* ===== BACKGROUND AND THEMING ===== */
    background: linear-gradient(135deg, var(--bg-main) 0%, color-mix(in srgb, var(--bg-main) 95%, white) 100%);
    
    /* Pattern overlay for visual texture */
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-size: var(--spacing-3xl) var(--spacing-3xl);
        opacity: 0.03;
        pointer-events: none;
        z-index: 0;
    }
    
    /* Ensure content appears above pattern */
    > * {
        position: relative;
        z-index: 1;
    }
    
    /* Enhanced alignment-specific styling */
    &.orden {
        background: linear-gradient(135deg, var(--bg-form-orden) 0%, color-mix(in srgb, var(--bg-form-orden) 95%, white) 100%);
        --bg-color-btn-dice: var(--bg-form-orden);
        --required-color: var(--bg-form-orden);
        --bg-title: var(--bg-form-orden);
        --bg-loader: var(--bg-form-orden);
        --current-focus-ring: var(--focus-ring-orden);
        
        /* Order-specific pattern */
        &::before {
            background-image: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%), 
                            linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%), 
                            linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%), 
                            linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);
        }
    }
    
    &.caos {
        background: linear-gradient(135deg, var(--bg-form-caos) 0%, color-mix(in srgb, var(--bg-form-caos) 95%, white) 100%);
        --bg-color-btn-dice: var(--bg-form-caos);
        --required-color: var(--bg-form-caos);
        --bg-title: var(--bg-form-caos);
        --bg-loader: var(--bg-form-caos);
        --current-focus-ring: var(--focus-ring-caos);
        /* Chaos-specific pattern */
        &::before {
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.2) 1px, transparent 0);
        }
    }
    
    /* ===== GRID AREA ASSIGNMENTS FOR FIELDSETS ===== */
    
    /* Form Title Section */
    .fieldset-form.form-title {
        grid-area: title;
    }
    
    /* Info Player Section */
    .fieldset-form.info-player {
        grid-area: info;
    }
    
    /* Stats Player Section */
    .fieldset-form.stats-player {
        grid-area: stats;
    }
    
    /* Initial Armament Section */
    .fieldset-form.initial-armament {
        grid-area: armament;
    }
    
    /* Skills Player Section */
    .fieldset-form.skills-player {
        grid-area: skills;
    }
    
    /* Inventory Player Section */
    .fieldset-form.inventory-player {
        grid-area: inventory;
    }
}

/* =====================================================
   ENHANCED FIELDSET ORGANIZATION WITH GRID AREAS
   ===================================================== */

/* Enhanced fieldset base layout */
.fieldset-form {
    display: grid;
    gap: var(--grid-gap-relaxed);
    padding: var(--spacing-2xl);
    margin: 0;
    border: 2px solid color-mix(in srgb, var(--bg-color-3) 20%, transparent);
    border-radius: var(--border-radius-lg);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(8px);
    transition: all var(--transition-standard) ease;
    
    /* Responsive padding adjustments */
    @media (max-width: 767px) {
        padding: var(--spacing-lg);
    }
    
    @media (min-width: 1024px) {
        padding: var(--spacing-3xl);
    }
    
    /* Hover effect for interactive enhancement */
    &:hover {
        box-shadow: 
            0 12px 48px rgba(0, 0, 0, 0.12),
            0 4px 12px rgba(0, 0, 0, 0.06),
            inset 0 1px 0 rgba(255, 255, 255, 0.95);
        transform: translateY(-2px);
    }
    
    /* Legend styling with enhanced typography */
    legend {
        font-size: var(--font-size-lg);
        font-weight: var(--font-weight-bold);
        color: var(--text-primary);
        padding: var(--spacing-sm) var(--spacing-xl);
        background: linear-gradient(135deg, var(--bg-color-3) 0%, color-mix(in srgb, var(--bg-color-3) 85%, white) 100%);
        border: 2px solid color-mix(in srgb, var(--bg-color-3) 30%, transparent);
        border-radius: var(--border-radius-md);
        margin-bottom: var(--spacing-lg);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        letter-spacing: 0.5px;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        
        /* Icon alignment */
        svg {
            vertical-align: middle;
            margin-right: var(--spacing-sm);
        }
    }
}

/* =====================================================
   SPECIFIC FIELDSET CONFIGURATIONS
   ===================================================== */

/* 1. Form Title Section */
.fieldset-form.form-title {
    grid-area: title;
    grid-template-columns: 1fr;
    min-height: auto;
    text-align: center;
    
    h1 {
        font-size: var(--font-size-2xl);
        font-weight: var(--font-weight-black);
        margin: 0;
        color: var(--text-primary);
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
}

/* 2. Info Player Section */
.fieldset-form.info-player {
    grid-area: info;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(10, auto);
    
    /* Visual separation between left and right columns */
    &::after {
        content: '';
        position: absolute;
        top: 3rem;
        left: 62.5%;
        bottom: 2rem;
        width: 1px;
        background: linear-gradient(180deg, 
            transparent 0%, 
            color-mix(in srgb, var(--border-light) 60%, transparent) 20%, 
            color-mix(in srgb, var(--border-light) 60%, transparent) 80%, 
            transparent 100%);
        z-index: 1;
        pointer-events: none;
    }
    
    @media (max-width: 767px) {
        grid-template-columns: 1fr;
        grid-template-rows: auto;
        
        &::after {
            display: none;
        }
    }
}

/* 3. Stats Player Section */
.fieldset-form.stats-player {
    grid-area: stats;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: auto repeat(6, 1fr);
    
    .stats-player-header {
        grid-column: 1 / -1;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--spacing-md);
        background: color-mix(in srgb, var(--bg-color-2) 15%, transparent);
        border-radius: var(--border-radius-md);
        margin-bottom: var(--spacing-lg);
    }
}

/* 4. Initial Armament Section */
.fieldset-form.initial-armament {
    grid-area: armament;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(6, auto);
}

/* 5. Skills Player Section */
.fieldset-form.skills-player {
    grid-area: skills;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(8, auto);
}

/* 6. Inventory Player Section */
.fieldset-form.inventory-player {
    grid-area: inventory;
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr auto;
}

/* =====================================================
   ENHANCED FORM ELEMENTS AND COMPONENTS
   ===================================================== */

/* Form input and label base styles */
.form-lbl, .form-lbl-y {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--text-secondary);
    padding: var(--spacing-sm) var(--spacing-md);
    border: 2px solid var(--border-light);
    background-color: var(--bg-grey-lighter);
    border-radius: var(--border-radius-sm);
    display: flex;
    align-items: center;
    justify-content: flex-start;
    margin-bottom: var(--spacing-xs);
    transition: all var(--transition-fast);
    min-height: var(--form-height-sm);
    
    &:hover {
        border-color: var(--border-medium);
        background-color: color-mix(in srgb, var(--bg-grey-lighter) 95%, white);
    }
}

.form-input, .form-input-y {
    padding: var(--spacing-sm) var(--spacing-md);
    border: 2px solid var(--border-medium);
    border-radius: var(--border-radius-sm);
    background-color: white;
    color: var(--text-primary);
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
    transition: all var(--transition-fast);
    min-height: var(--form-height-sm);
    
    &:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 
            inset 0 1px 2px rgba(0, 0, 0, 0.05),
            0 0 0 3px rgba(var(--primary-rgb), 0.1),
            0 2px 4px rgba(0, 0, 0, 0.1);
        background-color: #fefefe;
    }
    
    &:read-only {
        background-color: var(--bg-grey-lighter);
        border-style: dashed;
        color: var(--text-muted);
        cursor: not-allowed;
    }
}

/* Numeric input styling */
.numeric-input {
    text-align: center;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-base);
    background-color: color-mix(in srgb, var(--primary) 3%, white);
    
    /* Remove number input arrows */
    &::-webkit-outer-spin-button,
    &::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }
    
    &[type=number] {
        appearance: textfield;
        -moz-appearance: textfield;
    }
}

/* Enhanced textarea styling */
textarea.form-input-y {
    resize: vertical;
    min-height: 4rem;
    line-height: var(--line-height-relaxed);
    
    &:focus {
        min-height: 6rem;
    }
    
    @media (max-width: 767px) {
        min-height: 6rem;
    }
}

/* Grid positioning utilities for fine-tuning */
.col-start-1 { grid-column-start: 1; }
.col-start-2 { grid-column-start: 2; }
.col-start-3 { grid-column-start: 3; }
.col-start-4 { grid-column-start: 4; }
.col-start-5 { grid-column-start: 5; }
.col-start-6 { grid-column-start: 6; }
.col-start-7 { grid-column-start: 7; }
.col-start-8 { grid-column-start: 8; }

.col-end-1 { grid-column-end: 1; }
.col-end-2 { grid-column-end: 2; }
.col-end-3 { grid-column-end: 3; }
.col-end-4 { grid-column-end: 4; }
.col-end-5 { grid-column-end: 5; }
.col-end-6 { grid-column-end: 6; }
.col-end-7 { grid-column-end: 7; }
.col-end-8 { grid-column-end: 8; }
.col-end-9 { grid-column-end: 9; }

.row-start-1 { grid-row-start: 1; }
.row-start-2 { grid-row-start: 2; }
.row-start-3 { grid-row-start: 3; }
.row-start-4 { grid-row-start: 4; }
.row-start-5 { grid-row-start: 5; }
.row-start-6 { grid-row-start: 6; }
.row-start-7 { grid-row-start: 7; }
.row-start-8 { grid-row-start: 8; }
.row-start-9 { grid-row-start: 9; }
.row-start-10 { grid-row-start: 10; }

.row-span-1 { grid-row: span 1 / span 1; }
.row-span-2 { grid-row: span 2 / span 2; }
.row-span-3 { grid-row: span 3 / span 3; }
.row-span-4 { grid-row: span 4 / span 4; }
.row-span-5 { grid-row: span 5 / span 5; }

.col-span-1 { grid-column: span 1 / span 1; }
.col-span-2 { grid-column: span 2 / span 2; }
.col-span-3 { grid-column: span 3 / span 3; }
.col-span-4 { grid-column: span 4 / span 4; }
.col-span-5 { grid-column: span 5 / span 5; }

